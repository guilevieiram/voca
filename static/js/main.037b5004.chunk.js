(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(10),r=a.n(c),i=(a(16),a(0));function l(){return Object(i.jsx)("div",{className:"bg-light dark:bg-dark h-screen w-screen fixed top-0 left-0",style:{zIndex:-10}})}var o=a.p+"static/media/Play.aece485a.svg",d=a.p+"static/media/Home.f391c814.svg",u=a.p+"static/media/Add.fbd4f9bf.svg",j=a.p+"static/media/Points.023137a0.svg",b=a.p+"static/media/nav-logo.126134b2.svg",h=a(5);function m(e){var t=e.active,a=e.icon,n=e.link,s=e.height;return Object(i.jsx)("div",{className:"h-full z-10 flex justify-center items-end fill-".concat(t?"purple":"dark"),children:Object(i.jsx)(h.b,{to:n,children:Object(i.jsx)("img",{src:a,alt:a,className:"h-".concat(s," p-3 bottom-0 filter drop-shadow-lg")})})})}function g(e){var t=e.icon,a=e.link;return Object(i.jsx)("a",{href:a,className:"h-full",children:Object(i.jsx)("img",{src:t,alt:t,className:"h-16 p-1 filter drop-shadow-lg"})})}function f(){return Object(i.jsxs)("div",{className:"fixed bottom-0 left-0 w-screen  h-16 flex justify-center items-center",children:[Object(i.jsx)("div",{className:"w-screen h-10 absolute bottom-0 left-0 bg-blue"}),Object(i.jsxs)("div",{className:"max-w-2xl w-full h-full px-4 z-10 flex justify-around items-center",children:[Object(i.jsx)(m,{active:!1,icon:u,link:"",height:10}),Object(i.jsx)(m,{active:!1,icon:d,link:"",height:10}),Object(i.jsx)(g,{icon:b,link:""}),Object(i.jsx)(m,{active:!1,icon:o,link:"",height:10}),Object(i.jsx)(m,{active:!1,icon:j,link:"/config",height:10})]})]})}function x(){return Object(i.jsxs)("div",{className:"w-full mb-32",children:[Object(i.jsx)("p",{className:"text-blue py-2",children:"Don't have an account?"}),Object(i.jsx)(h.b,{to:"/signup",children:Object(i.jsx)("button",{className:"primary-button",children:"Sign Up!"})})]})}var p,O,k=a(3),v=a(9),N=a.n(v),w=a(11);function y(){return(y=Object(w.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,n={headers:{"Content-Type":"application/json"},method:"GET"},e.next=4,fetch(a,n).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Waiting=2]="Waiting",e[e.Successful=3]="Successful",e[e.WrongPassword=4]="WrongPassword",e[e.UserNotFound=5]="UserNotFound",e[e.BackendIssue=6]="BackendIssue"}(p||(p={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Waiting=2]="Waiting",e[e.Successful=3]="Successful",e[e.EmailInUse=4]="EmailInUse",e[e.BackendIssue=5]="BackendIssue"}(O||(O={}));function S(){return Object(i.jsx)("div",{className:"w-fulli flex justify-center items-center my-6",children:Object(i.jsx)("div",{className:"h-10 w-10  border-2 border-b-0 rounded-full  border-blue "})})}var E=a(6);function I(e){var t=e.setToken,a=Object(n.useState)(""),s=Object(k.a)(a,2),c=s[0],r=s[1],l=Object(n.useState)(""),o=Object(k.a)(l,2),d=o[0],u=o[1],j=Object(n.useState)(p.NotStarted),b=Object(k.a)(j,2),h=b[0],m=b[1];return Object(n.useEffect)((function(){h===p.BackendIssue?window.alert("It seems like our servers are down at the moment ... \n Try again in a few minutes!"):h===p.Successful&&window.location.reload()}),[h]),Object(i.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault(),function(e,t,a,n,s){var c="".concat(s,"/user/login"),r={user_email:e,password:t},i={headers:{"Content-Type":"application/json"},body:JSON.stringify(r),method:"POST"};n(p.Started),fetch(c,i).then((function(e){return n(p.Waiting),e.json()})).then((function(e){switch(console.log(e),e.code){case 1:n(p.Successful),a(e.id);break;case-2:n(p.WrongPassword);break;case-1:n(p.UserNotFound);break;default:n(p.BackendIssue)}})).catch((function(e){n(p.BackendIssue),console.log(e)}))}(c,d,t,m,E.apiEndpoint)},className:"flex flex-col my-10 text-dark dark:text-light",children:[Object(i.jsx)("input",{type:"email",name:"E-mail",id:"email",placeholder:"Email",required:!0,className:h===p.UserNotFound?"input-field border-red bg-light dark:bg-dark":"input-field bg-light dark:bg-dark",onChange:function(e){return r(e.target.value)}}),h===p.UserNotFound?Object(i.jsx)("p",{className:"text-sm text-red",children:"This user does not exists."}):Object(i.jsx)(i.Fragment,{}),Object(i.jsx)("input",{type:"password",name:"Password",id:"password",placeholder:"Password",required:!0,className:h===p.WrongPassword?"border-red input-field bg-light dark:bg-dark":"input-field bg-light dark:bg-dark",onChange:function(e){return u(e.target.value)}}),h===p.WrongPassword?Object(i.jsx)("p",{className:"text-sm text-red",children:"Wrong password."}):Object(i.jsx)(i.Fragment,{}),h===p.Waiting?Object(i.jsx)(S,{}):Object(i.jsx)("input",{type:"submit",value:"Log in",className:"secondary-button bg-light dark:bg-dark"}),Object(i.jsx)("a",{href:"https://google.com",className:"text-blue underline text-right",children:"  Forgot password?"})]})}var T=function(e){var t=e.setToken;return Object(i.jsxs)("div",{className:"w-full h-screen py-10",children:[Object(i.jsx)("h1",{className:"page-title text-dark dark:text-light",children:"Login"}),Object(i.jsxs)("div",{className:"flex flex-col justify-between h-full ",children:[Object(i.jsx)(I,{setToken:t}),Object(i.jsx)(x,{})]})]})},P=a(2);function C(e){var t=e.setLanguage,a=[{name:"French",flag:"\ud83c\uddeb\ud83c\uddf7"},{name:"Russian",flag:"\ud83c\uddf7\ud83c\uddfa"},{name:"English",flag:"\ud83c\uddec\ud83c\udde7"}];return Object(n.useEffect)((function(){return t(a[0].name)}),[]),Object(i.jsxs)("div",{className:"w-full flex justify-between items-center my-4",children:[Object(i.jsx)("p",{children:"Language:"}),Object(i.jsx)("select",{className:"bg-light dark:bg-dark",onChange:function(e){return t(e.target.value)},children:a.map((function(e,t){return Object(i.jsx)("option",{value:e.name,className:"bg-light dark:bg-dark",children:e.flag},t)}))})]})}function F(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),r=Object(k.a)(c,2),l=r[0],o=r[1],d=Object(n.useState)(""),u=Object(k.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)(""),m=Object(k.a)(h,2),g=m[0],f=m[1],x=Object(n.useState)(null),p=Object(k.a)(x,2),v=p[0],N=p[1],w=Object(n.useState)(""),y=Object(k.a)(w,2),S=y[0],I=y[1],T=Object(n.useState)(O.NotStarted),F=Object(k.a)(T,2),W=F[0],B=F[1],L=Object(P.g)();return Object(n.useEffect)((function(){return j&&g?N(j===g):void 0}),[j,g]),Object(n.useEffect)((function(){W===O.BackendIssue?window.alert("It seems like our servers are down at the moment ... \n Try again in a few minutes!"):W===O.Successful&&(window.alert("Signup successful!"),L("/login"))}),[W]),Object(i.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault(),v&&function(e,t,a,n,s,c){var r="".concat(c,"/user/signup"),i={user_name:e,user_email:t,user_password:a,user_language:n,user_photo:""},l={headers:{"Content-Type":"application/json"},body:JSON.stringify(i),method:"POST"};s(O.Started),fetch(r,l).then((function(e){return s(O.Waiting),e.json()})).then((function(e){switch(console.log(e),e.code){case 1:s(O.Successful);break;case-6:s(O.EmailInUse);break;default:s(O.BackendIssue),console.log("user signup request, default case")}})).catch((function(e){s(O.BackendIssue),console.log(e)}))}(a,l,j,S,B,E.apiEndpoint)},className:"flex flex-col my-10 text-dark dark:text-light",children:[Object(i.jsx)("input",{required:!0,onChange:function(e){return s(e.target.value)},type:"text",name:"Name",id:"Name",placeholder:"Name",className:"input-field bg-light dark:bg-dark "}),Object(i.jsx)("input",{required:!0,onChange:function(e){return o(e.target.value)},type:"email",name:"E-mail",id:"email",placeholder:"Email",className:W===O.EmailInUse?"input-field bg-light dark:bg-dark border-red":"input-field bg-light dark:bg-dark"}),W===O.EmailInUse?Object(i.jsx)("p",{className:"text-sm text-red p-0",children:"This email is already in use."}):Object(i.jsx)(i.Fragment,{}),Object(i.jsx)("input",{required:!0,onChange:function(e){return b(e.target.value)},type:"password",name:"Password",id:"password",placeholder:"Password",className:"input-field bg-light dark:bg-dark"}),Object(i.jsx)("input",{required:!0,onChange:function(e){return f(e.target.value)},type:"password",name:"Password-2",id:"password-2",placeholder:"Confirm password",className:!1===v?"input-field bg-light dark:bg-dark border-red":"input-field bg-light dark:bg-dark"}),!1===v?Object(i.jsx)("p",{className:"text-sm text-red p-0",children:"Please make sure the passwords are the same."}):Object(i.jsx)(i.Fragment,{}),Object(i.jsx)(C,{setLanguage:I}),Object(i.jsx)("input",{type:"submit",value:"Sign up",className:"primary-button my-4"})]})}function W(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"text-sm text-dark dark:text-light",children:"Already have an account?"}),Object(i.jsx)(h.b,{to:"/login",children:Object(i.jsx)("button",{className:"secondary-button bg-light dark:bg-dark",children:"Log in!"})})]})}var B,L=function(){return Object(i.jsxs)("div",{className:"w-full py-10",children:[Object(i.jsx)("h1",{className:"page-title text-dark dark:text-light",children:"Sign up!"}),Object(i.jsx)(F,{}),Object(i.jsx)(W,{})]})};function U(){return Object(i.jsxs)("div",{className:"flex flex-col justify-around items-start my-10 text-dark dark:text-light",children:[Object(i.jsx)("h1",{className:"my-4",children:"404 Error"}),Object(i.jsx)("h2",{className:"my-4",children:"This page cannot be found ..."}),Object(i.jsxs)("p",{className:"my-4",children:["Go back to our user page ",Object(i.jsxs)("span",{className:"underline",children:[" ",Object(i.jsx)(h.b,{to:"/",children:"here."})]})]})]})}function D(){return Object(i.jsx)("div",{children:Object(i.jsx)("h1",{className:"my-10 text-dark dark:text-light",children:"Welcome home!"})})}function q(){return Object(i.jsxs)("div",{className:"flex justify-between items-center my-4 text-dark dark:text-light",children:[Object(i.jsx)("p",{className:"",children:"Theme:"}),Object(i.jsx)("form",{action:"",children:Object(i.jsxs)("select",{name:"",id:"",defaultValue:"dark"===localStorage.theme?B.dark:"light"===localStorage.theme?B.light:B.systemDefault,onChange:function(e){return t=e.target.value,console.log("updating theme to ",t),console.log(t.valueOf()==B.dark.valueOf()),t.valueOf()==B.dark.valueOf()?localStorage.theme="dark":t.valueOf()==B.light.valueOf()?localStorage.theme="light":localStorage.removeItem("theme"),void window.location.reload();var t},className:"text-sm bg-light dark:bg-dark",children:[Object(i.jsx)("option",{value:B.dark,children:"Dark"}),Object(i.jsx)("option",{value:B.light,children:"Light"}),Object(i.jsx)("option",{value:B.systemDefault,children:"System default"})]})})]})}!function(e){e[e.dark=0]="dark",e[e.light=1]="light",e[e.systemDefault=2]="systemDefault"}(B||(B={}));var _=function(){return Object(i.jsxs)("div",{className:"my-10",children:[Object(i.jsx)("h1",{className:"my-6 text-dark dark:text-light",children:"Configurations"}),Object(i.jsx)("div",{className:"w-full h-px border-dark bg-dark dark:bg-light"}),Object(i.jsx)(q,{})]})};var J=function(){var e,t=sessionStorage.getItem("token"),a=function(e){return t?Object(i.jsx)(P.a,{replace:!0,to:"/"}):e};return Object(n.useEffect)((function(){!function(e){y.apply(this,arguments)}(E.apiEndpoint),"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[]),Object(i.jsx)("div",{className:"flex justify-center",children:Object(i.jsx)("div",{className:"max-w-xl w-full px-8 ",children:Object(i.jsxs)(h.a,{children:[Object(i.jsx)(l,{}),Object(i.jsx)(f,{}),Object(i.jsxs)(P.d,{children:[Object(i.jsx)(P.b,{path:"/",element:(e=Object(i.jsx)(D,{}),t?e:Object(i.jsx)(P.a,{replace:!0,to:"/login"}))}),Object(i.jsx)(P.b,{path:"/login",element:a(Object(i.jsx)(T,{setToken:function(e){return sessionStorage.setItem("token",e)}}))}),Object(i.jsx)(P.b,{path:"/signup",element:a(Object(i.jsx)(L,{}))}),Object(i.jsx)(P.b,{path:"/config",element:Object(i.jsx)(_,{})}),Object(i.jsx)(P.b,{path:"*",element:Object(i.jsx)(U,{})})]})]})})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(J,{})}),document.getElementById("root")),z()},6:function(e,t){e.exports={apiEndpoint:"https://voca-backend.herokuapp.com/"}}},[[19,1,2]]]);
//# sourceMappingURL=main.037b5004.chunk.js.map