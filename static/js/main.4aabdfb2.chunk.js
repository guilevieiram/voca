(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(9),r=a.n(s),i=(a(15),a(3)),o=a(0);function l(e){var t=e.darkMode;return Object(o.jsx)("div",{className:"bg-".concat(t?"dark":"light"," h-screen w-screen fixed top-0 left-0"),style:{zIndex:-10}})}var d=a.p+"static/media/Play.aece485a.svg",u=a.p+"static/media/Home.f391c814.svg",j=a.p+"static/media/Add.fbd4f9bf.svg",b=a.p+"static/media/Points.023137a0.svg",h=a.p+"static/media/nav-logo.126134b2.svg";function f(e){var t=e.active,a=e.icon,n=e.link,c=e.height;return Object(o.jsx)("div",{className:"h-full z-10 flex justify-center items-end fill-".concat(t?"purple":"dark"),children:Object(o.jsx)("a",{href:n,children:Object(o.jsx)("img",{src:a,alt:a,className:"h-".concat(c," p-3 bottom-0 filter drop-shadow-lg")})})})}function m(e){var t=e.icon,a=e.link,n=e.height;return Object(o.jsx)("a",{href:a,className:"h-full",children:Object(o.jsx)("img",{src:t,alt:t,className:"h-".concat(n," p-1 filter drop-shadow-lg")})})}function g(e){e.darkMode;return Object(o.jsxs)("div",{className:"fixed bottom-0 left-0 w-screen  h-".concat(16," flex justify-center items-center"),children:[Object(o.jsx)("div",{className:"w-screen h-".concat(10," absolute bottom-0 left-0 bg-blue")}),Object(o.jsxs)("div",{className:"max-w-2xl w-full h-full px-4 z-10 flex justify-around items-center",children:[Object(o.jsx)(f,{active:!1,icon:j,link:"",height:10}),Object(o.jsx)(f,{active:!1,icon:u,link:"",height:10}),Object(o.jsx)(m,{icon:h,link:"",height:16}),Object(o.jsx)(f,{active:!1,icon:d,link:"",height:10}),Object(o.jsx)(f,{active:!0,icon:b,link:"",height:10})]})]})}var x=a(5);function p(){return Object(o.jsxs)("div",{className:"w-full mb-32",children:[Object(o.jsx)("p",{className:"text-blue py-2",children:"Don't have an account?"}),Object(o.jsx)(x.b,{to:"/signup",children:Object(o.jsx)("button",{className:"primary-button",children:"Sign Up!"})})]})}var O,k,v=a(8),N=a.n(v),w=a(10);function y(){return(y=Object(w.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,n={headers:{"Content-Type":"application/json"},method:"GET"},e.next=4,fetch(a,n).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Waiting=2]="Waiting",e[e.Successful=3]="Successful",e[e.WrongPassword=4]="WrongPassword",e[e.UserNotFound=5]="UserNotFound",e[e.BackendIssue=6]="BackendIssue"}(O||(O={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Waiting=2]="Waiting",e[e.Successful=3]="Successful",e[e.EmailInUse=4]="EmailInUse",e[e.BackendIssue=5]="BackendIssue"}(k||(k={}));function S(){return Object(o.jsx)("div",{className:"w-fulli flex justify-center items-center my-6",children:Object(o.jsx)("div",{className:"h-10 w-10  border-2 border-b-0 rounded-full  border-blue "})})}function I(e){var t=e.darkMode,a=e.setToken,c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],l=s[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)(O.NotStarted),f=Object(i.a)(h,2),m=f[0],g=f[1];return Object(n.useEffect)((function(){m===O.BackendIssue?window.alert("It seems like our servers are down at the moment ... \n Try again in a few minutes!"):m===O.Successful&&window.location.reload()}),[m]),Object(o.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault(),function(e,t,a,n,c){var s="".concat(c,"/user/login"),r={user_email:e,password:t},i={headers:{"Content-Type":"application/json"},body:JSON.stringify(r),method:"POST"};n(O.Started),fetch(s,i).then((function(e){return n(O.Waiting),e.json()})).then((function(e){switch(console.log(e),e.code){case 1:n(O.Successful),a(e.id);break;case-2:n(O.WrongPassword);break;case-1:n(O.UserNotFound);break;default:n(O.BackendIssue)}})).catch((function(e){n(O.BackendIssue),console.log(e)}))}(r,j,a,g,"http://127.0.0.1:5000")},className:"flex flex-col my-10 text-".concat(t?"light":"dark"),children:[Object(o.jsx)("input",{type:"email",name:"E-mail",id:"email",placeholder:"Email",required:!0,className:"input-field bg-".concat(t?"dark":"light"," ").concat(m===O.UserNotFound?"border-red":""),onChange:function(e){return l(e.target.value)}}),m===O.UserNotFound?Object(o.jsx)("p",{className:"text-sm text-red",children:"This user does not exists."}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("input",{type:"password",name:"Password",id:"password",placeholder:"Password",required:!0,className:"input-field ".concat(m===O.WrongPassword?"border-red":""," bg-").concat(t?"dark":"light"),onChange:function(e){return b(e.target.value)}}),m===O.WrongPassword?Object(o.jsx)("p",{className:"text-sm text-red",children:"Wrong password."}):Object(o.jsx)(o.Fragment,{}),m===O.Waiting?Object(o.jsx)(S,{}):Object(o.jsx)("input",{type:"submit",value:"Log in",className:"secondary-button bg-".concat(t?"dark":"light")}),Object(o.jsx)("a",{href:"https://google.com",className:"text-blue underline text-right",children:"  Forgot password?"})]})}var M=function(e){var t=e.darkMode,a=e.setToken;return Object(o.jsxs)("div",{className:"w-full h-screen py-10",children:[Object(o.jsx)("h1",{className:"page-title text-".concat(t?"light":"dark"),children:"Login"}),Object(o.jsxs)("div",{className:"flex flex-col justify-between h-full ",children:[Object(o.jsx)(I,{darkMode:t,setToken:a}),Object(o.jsx)(p,{})]})]})},E=a(2);function P(e){var t=e.darkMode,a=e.setLanguage,c=[{name:"French",flag:"\ud83c\uddeb\ud83c\uddf7"},{name:"Russian",flag:"\ud83c\uddf7\ud83c\uddfa"},{name:"English",flag:"\ud83c\uddec\ud83c\udde7"}];return Object(n.useEffect)((function(){return a(c[0].name)}),[]),Object(o.jsxs)("div",{className:"w-full flex justify-between items-center my-4",children:[Object(o.jsx)("p",{children:"Language:"}),Object(o.jsx)("select",{className:"bg-".concat(t?"dark":"light"),onChange:function(e){return a(e.target.value)},children:c.map((function(e,a){return Object(o.jsx)("option",{value:e.name,className:"bg-".concat(t?"dark":"light"),children:e.flag},a)}))})]})}function T(e){var t=e.darkMode,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),f=h[0],m=h[1],g=Object(n.useState)(""),x=Object(i.a)(g,2),p=x[0],O=x[1],v=Object(n.useState)(null),N=Object(i.a)(v,2),w=N[0],y=N[1],S=Object(n.useState)(""),I=Object(i.a)(S,2),M=I[0],T=I[1],F=Object(n.useState)(k.NotStarted),C=Object(i.a)(F,2),W=C[0],B=C[1],U=Object(E.g)();return Object(n.useEffect)((function(){return f&&p?y(f===p):void 0}),[f,p]),Object(n.useEffect)((function(){W===k.BackendIssue?window.alert("It seems like our servers are down at the moment ... \n Try again in a few minutes!"):W===k.Successful&&(window.alert("Signup successful!"),U("/login"))}),[W]),Object(o.jsxs)("form",{action:"#",onSubmit:function(e){e.preventDefault(),w&&function(e,t,a,n,c,s){var r="".concat(s,"/user/signup"),i={user_name:e,user_email:t,user_password:a,user_language:n,user_photo:""},o={headers:{"Content-Type":"application/json"},body:JSON.stringify(i),method:"POST"};c(k.Started),fetch(r,o).then((function(e){return c(k.Waiting),e.json()})).then((function(e){switch(console.log(e),e.code){case 1:c(k.Successful);break;case-6:c(k.EmailInUse);break;default:c(k.BackendIssue),console.log("user signup request, default case")}})).catch((function(e){c(k.BackendIssue),console.log(e)}))}(s,u,f,M,B,"http://127.0.0.1:5000")},className:"flex flex-col my-10 text-".concat(t?"light":"dark"),children:[Object(o.jsx)("input",{required:!0,onChange:function(e){return r(e.target.value)},type:"text",name:"Name",id:"Name",placeholder:"Name",className:"input-field bg-".concat(t?"dark":"light"," ")}),Object(o.jsx)("input",{required:!0,onChange:function(e){return j(e.target.value)},type:"email",name:"E-mail",id:"email",placeholder:"Email",className:"input-field bg-".concat(t?"dark":"light"," ").concat(W===k.EmailInUse?"border-red":""," ")}),W===k.EmailInUse?Object(o.jsx)("p",{className:"text-sm text-red p-0",children:"This email is already in use."}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("input",{required:!0,onChange:function(e){return m(e.target.value)},type:"password",name:"Password",id:"password",placeholder:"Password",className:"input-field bg-".concat(t?"dark":"light"," ")}),Object(o.jsx)("input",{required:!0,onChange:function(e){return O(e.target.value)},type:"password",name:"Password-2",id:"password-2",placeholder:"Confirm password",className:"input-field bg-".concat(t?"dark":"light"," ").concat(!1===w?"border-red":"")}),!1===w?Object(o.jsx)("p",{className:"text-sm text-red p-0",children:"Please make sure the passwords are the same."}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)(P,{setLanguage:T,darkMode:t}),Object(o.jsx)("input",{type:"submit",value:"Sign up",className:"primary-button my-4"})]})}function F(e){var t=e.darkMode;return Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"text-sm text-".concat(t?"light":"dark"),children:"Already have an account?"}),Object(o.jsx)(x.b,{to:"/login",children:Object(o.jsx)("button",{className:"secondary-button bg-".concat(t?"dark":"light"),children:"Log in!"})})]})}var C=function(e){var t=e.darkMode;return Object(o.jsxs)("div",{className:"w-full py-10",children:[Object(o.jsx)("h1",{className:"page-title text-".concat(t?"light":"dark"),children:"Sign up!"}),Object(o.jsx)(T,{darkMode:t}),Object(o.jsx)(F,{darkMode:t})]})};function W(e){var t=e.darkMode;return Object(o.jsxs)("div",{className:"flex flex-col justify-around items-start my-10 text-".concat(t?"light":"dark"),children:[Object(o.jsx)("h1",{className:"my-4",children:"404 Error"}),Object(o.jsx)("h2",{className:"my-4",children:"This page cannot be found ..."}),Object(o.jsxs)("p",{className:"my-4",children:["Go back to our user page ",Object(o.jsxs)("span",{className:"underline",children:[" ",Object(o.jsx)(x.b,{to:"/",children:"here."})]})]})]})}function B(e){var t=e.darkMode;return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{className:"my-10 text-".concat(t?"light":"dark"),children:"Welcome home!"})})}var U=function(){var e,t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],s=(a[1],sessionStorage.getItem("token")),r=function(e){return s?Object(o.jsx)(E.a,{replace:!0,to:"/"}):e};return Object(n.useEffect)((function(){!function(e){y.apply(this,arguments)}("http://127.0.0.1:5000")}),[]),Object(o.jsxs)("div",{className:"flex justify-center",children:[Object(o.jsx)(l,{darkMode:c}),Object(o.jsx)(g,{darkMode:c}),Object(o.jsx)("div",{className:"max-w-xl w-full px-8 ",children:Object(o.jsx)(x.a,{children:Object(o.jsxs)(E.d,{children:[Object(o.jsx)(E.b,{path:"/",element:(e=Object(o.jsx)(B,{darkMode:c}),s?e:Object(o.jsx)(E.a,{replace:!0,to:"/login"}))}),Object(o.jsx)(E.b,{path:"/login",element:r(Object(o.jsx)(M,{darkMode:c,setToken:function(e){return sessionStorage.setItem("token",e)}}))}),Object(o.jsx)(E.b,{path:"/signup",element:r(Object(o.jsx)(C,{darkMode:c}))}),Object(o.jsx)(E.b,{path:"*",element:Object(o.jsx)(W,{darkMode:c})})]})})})]})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(U,{})}),document.getElementById("root")),L()}},[[18,1,2]]]);
//# sourceMappingURL=main.4aabdfb2.chunk.js.map